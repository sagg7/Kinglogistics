const showLoadModal=t=>{const e=$("#viewLoad"),r=e.find(".modal-body"),d=r.find(".modal-spinner"),a=r.find(".content-body");d.removeClass("d-none"),a.addClass("d-none"),a.html('<div class="table-responsive"><table class="table"><thead><tr>'+("shipper"!==guard?"<th>Customer</th>":"")+"<th>Driver</th><th>Truck#</th>"+("web"===guard?"<th>Carrier</th>":"<th></th>")+("shipper"===guard?"<th></th>":"")+"</tr></thead><tbody><tr>"+("shipper"!==guard?`<td>${t.shipper.name}</td>`:"")+`<td>${t.driver?t.driver.name:""}</td>`+`<td>${t.truck?t.truck.number:""}</td>`+("carrier"===guard?`<td>${t.driver?t.driver.carrier.name:""}</td>`:"<td></td>")+"</tr><tr><th>Load type</th><th>Date</th><th>Origin</th><th>Destination</th></tr><tr>"+`<td>${t.load_type?t.load_type.name:""}</td>`+`<td>${t.date?t.date:""}</td>`+`<td>${t.origin?t.origin:""}</td>`+`<td>${t.destination?t.destination:""}</td></tr><tr><th>Control#</th><th>Customer name</th><th>Customer po</th><th>Customer reference</th></tr><tr>`+`<td>${t.control_number?t.control_number:""}</td>`+`<td>${t.customer_name?t.customer_name:""}</td>`+`<td>${t.customer_po?t.customer_po:""}</td>`+`<td>${t.customer_reference?t.customer_reference:""}</td></tr><tr><th>Weight</th><th>Tons</th><th>Silo number</th><th>Mileage</th></tr><tr>`+`<td>${t.weight?t.weight:""}</td>`+`<td>${t.tons?t.tons:""}</td>`+`<td>${t.silo_number?t.silo_number:""}</td>`+`<td>${t.mileage?t.mileage:""}</td></tr></tbody></table></div>`),d.addClass("d-none"),a.removeClass("d-none"),e.modal("show")},showStatusModal=t=>{console.log(t);const e=$("#viewLoadStatus"),r=e.find(".modal-title"),d=e.find(".modal-body"),a=d.find(".modal-spinner"),o=d.find(".content-body");a.removeClass("d-none"),o.addClass("d-none"),o.html('<div class="table-responsive"><table class="table table-hover" id="loadTableSummary"><thead><tr>'+("shipper"!==guard?"<th>Customer</th>":"")+"<th>Origin</th><th>Destination</th><th>Driver</th><th>Truck#</th>"+("carrier"===guard?"<th>Carrier</th>":"")+"</tr></thead><tbody></tbody></table></div>");const n=$("#loadTableSummary").find("tbody");var s;r.text(`${s=t.status,s.charAt(0).toUpperCase()+s.slice(1)}`);let i="";const h=[];t.data.forEach(((t,e)=>{const r=`row_${e}`;h.push(r),i+=`<tr class="cursor-pointer" id="${r}">`+("shipper"!==guard?`<td>${t.shipper.name}</td>`:"")+`<td>${t.origin}</td>`+`<td>${t.destination}</td>`+`<td>${t.driver?t.driver.name:""}</td>`+`<td>${t.truck?t.truck.number:""}</td>`+("carrier"===guard?`<td>${t.driver?t.driver.carrier.name:""}</td></tr>`:"")})),n.html(i),h.forEach(((e,r)=>{$(`#${e}`).click((()=>{const e=t.data[r];showLoadModal(e)}))})),a.addClass("d-none"),o.removeClass("d-none"),e.modal("show")};

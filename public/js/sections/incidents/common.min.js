(()=>{let e="undefined"!=typeof carrierId?carrierId:null;const a=$("#carrier_id"),l=$("#driver_id"),t=$("#truck_id"),r=$("#trailer_id"),c=$("#date");initPickadate(c).pickadate("picker").set("select",c.val(),{format:"yyyy/mm/dd"}),a.select2({ajax:{url:"/carrier/selection",data:e=>({search:e.term,page:e.page||1,take:15})},placeholder:"Select",allowClear:!0}).on("select2:select",(a=>{e=a.params.data.id,l.prop("disabled",!1).trigger("change")})).on("select2:unselect",(()=>{e=null,l.val("").trigger("change"),t.val("").trigger("change"),r.val("").trigger("change"),l.prop("disabled",!0).trigger("change")}));const i={placeholder:"Select",allowClear:!0};a.length>0&&_.merge(i,{ajax:{url:"/driver/selection",data:a=>({search:a.term,page:a.page||1,take:15,carrier:e})}}),l.select2(i).on("select2:select",(e=>{if(a.lengt>0){const a=e.params.data.truck,l=a.trailer;t.html(`<option value="${a.id}">${a.number}</option>`).val(`${a.id}`).trigger("change"),r.html(`<option value="${l.id}">${l.number}</option>`).val(`${l.id}`).trigger("change")}})).on("select2:unselect",(()=>{a.lengt>0&&(t.val("").trigger("change"),r.val("").trigger("change"))})),t.select2({ajax:{url:"/truck/selection",data:a=>({search:a.term,page:a.page||1,take:15,carrier:e})},placeholder:"Select",allowClear:!0}),r.select2({ajax:{url:"/trailer/selection",data:e=>({search:e.term,page:e.page||1,take:15})},placeholder:"Select",allowClear:!0}),!l.val()&&a.length>0&&l.prop("disabled",!0).trigger("change"),$("#incident_type_id").select2({placeholder:"Select"}),$("#sanction").select2({placeholder:"Select"}),$("#deleteIncidentType").on("show.bs.modal",(e=>{let a=$("#incident_type_id").html(),l=$("#delete_type");deleteHandler(l,a)}))})();

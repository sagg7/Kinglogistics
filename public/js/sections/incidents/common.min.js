(()=>{let e=null;const a=$("#driver_id"),l=$("#truck_id"),t=$("#trailer_id"),r=$("#date");initPickadate(r).pickadate("picker").set("select",r.val(),{format:"yyyy/mm/dd"}),$("#carrier_id").select2({ajax:{url:"/carrier/selection",data:e=>({search:e.term,page:e.page||1,take:15})},placeholder:"Select",allowClear:!0}).on("select2:select",(l=>{e=l.params.data.id,a.prop("disabled",!1).trigger("change")})).on("select2:unselect",(()=>{e=null,a.val("").trigger("change"),l.val("").trigger("change"),t.val("").trigger("change"),a.prop("disabled",!0).trigger("change")})),a.select2({ajax:{url:"/driver/selection",data:a=>({search:a.term,page:a.page||1,take:15,carrier:e})},placeholder:"Select",allowClear:!0}).on("select2:select",(e=>{const a=e.params.data.truck,r=a.trailer;l.html(`<option value="${a.id}">${a.number}</option>`).val(`${a.id}`).trigger("change"),t.html(`<option value="${r.id}">${r.number}</option>`).val(`${r.id}`).trigger("change")})).on("select2:unselect",(()=>{l.val("").trigger("change"),t.val("").trigger("change")})),l.select2({ajax:{url:"/truck/selection",data:a=>({search:a.term,page:a.page||1,take:15,carrier:e})},placeholder:"Select",allowClear:!0}),t.select2({ajax:{url:"/trailer/selection",data:e=>({search:e.term,page:e.page||1,take:15})},placeholder:"Select",allowClear:!0}),a.val()||a.prop("disabled",!0).trigger("change"),$("#incident_type_id").select2({placeholder:"Select"}),$("#sanction").select2({placeholder:"Select"}),$("#deleteIncidentType").on("show.bs.modal",(e=>{let a=$("#incident_type_id").html(),l=$("#delete_type");deleteHandler(l,a)})),a.prop("disabled",!a.val()).trigger("change")})();

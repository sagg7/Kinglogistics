function filtersChange(t){$.ajax({url:"/shipper/status/",data:{shipper_id:$("#shipper").val()},success:e=>{const r=t.find("tbody");r.empty();let d=0,a=0,l=0,s=0,o=0;for(var p=0;p<e.length;p++){let t="black";e[p].percentage<100&&(t="red"),r.append(`<tr><td>${e[p].name}</td><td>${msToTime(60*e[p].avg*1e3)}</td><td data-toggle="tooltip" data-html="true" title="${e[p].active_drivers}/${e[p].trucks_required??"N/A"}" style="color: ${t}">${e[p].percentage>0?e[p].percentage+"%":"N/A"}</td></tr>`),l+=e[p].avg,s+=parseInt(e[p].percentage),o++}0!=o&&(d=l/o,a=Math.round(s/o));let i="black";a<100&&(i="red"),r.append(`<tr style="border:1px solid #d9d9d9"><td>Total</td><td>${msToTime(60*d*1e3)}</td><td style="color: ${i}">${a}%</td></tr>`)},error:()=>{throwErrorMsg()}})}filtersChange($("#customerTable"));

function filtersChange(t){$.ajax({url:"/shipper/status/",data:{shipper_id:$("#shipper").val()},success:e=>{const d=t.find("tbody");d.empty();let r=0,a=0,o=0,l=0,s=0,i=0,p=0,m=0,c=0;for(var g in e.shipperAvg){let t=e.shipperAvg[g],r="black";t.percentage<100&&(r="red"),(t.avg>0||t.loadTime>0)&&(d.append(`<tr><td>${t.name}</td><td>${msToTime(60*t.avg*1e3,!1)}</td><td>${msToTime(60*t.loadTime*1e3,!1)}</td><td data-toggle="tooltip" data-html="true" >${Number(t.total_loads/t.total_trucks).toFixed(2)}</td><td data-toggle="tooltip" data-html="true" title="${t.active_drivers}/${t.trucks_required??"N/A"}" style="color: ${r}">${t.percentage>0?t.percentage+"%":"N/A"}</td></tr>`),p+=t.avg,m+=parseInt(t.percentage),l+=parseFloat(t.total_loads/t.total_trucks),s+=t.loadTime,c++)}0!==c&&(r=p/c,a=s/c,o=l/c,i=Math.round(m/c));let n="black";i<100&&(n="red"),d.append(`<tr style="border-top:3px solid #d9d9d9"><td>Total</td><td>${msToTime(60*r*1e3,!1)}</td><td>${msToTime(60*a*1e3,!1)}</td><td>${Number(o).toFixed(2)}</td><td style="color: ${n}">${i}%</td></tr>`)},error:()=>{throwErrorMsg()}})}filtersChange($("#customerTable"));

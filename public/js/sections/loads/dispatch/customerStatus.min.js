function filtersChange(e){$.ajax({url:"/shipper/status/",data:{shipper_id:$("#shipper").val()},success:t=>{const r=e.find("tbody");r.empty();let d=0,a=0,o=0,s=0,i=0,l=0,p=0;for(var n in t.shipperAvg){let e=t.shipperAvg[n],d="black";e.percentage<100&&(d="red"),(e.avg>0||e.loadTime>0)&&(r.append(`<tr><td>${e.name}</td><td>${msToTime(60*e.avg*1e3,!1)}</td><td>${msToTime(60*e.loadTime*1e3,!1)}</td><td data-toggle="tooltip" data-html="true" title="${e.active_drivers}/${e.trucks_required??"N/A"}" style="color: ${d}">${e.percentage>0?e.percentage+"%":"N/A"}</td></tr>`),i+=e.avg,l+=parseInt(e.percentage),o+=e.loadTime,p++)}0!==p&&(d=i/p,a=o/p,s=Math.round(l/p));let c="black";s<100&&(c="red"),r.append(`<tr style="border-top:3px solid #d9d9d9"><td>Total</td><td>${msToTime(60*d*1e3,!1)}</td><td>${msToTime(60*a*1e3,!1)}</td><td style="color: ${c}">${s}%</td></tr>`)},error:()=>{throwErrorMsg()}})}filtersChange($("#customerTable"));

(()=>{const t=[],a=$("#loads-summary").find("table"),s=$("#shipper"),r=()=>{a.find("h2").text(0),$.ajax({url:"/dashboard/getData",type:"GET",data:{shipper:s.val()},success:a=>{a.loads&&Object.entries(a.loads).forEach((a=>{const[s,r]=a;$(`#${s}_summary`).text(r.count),t.push({status:s,count:r.count,data:r.data})}))},error:()=>{throwErrorMsg()}})};r(),$('[id*="_summary"]').click((a=>{a.preventDefault(),a.stopPropagation();const s=$(a.currentTarget).attr("id").split("_summary")[0],r=t.find((t=>t.status===s));r&&showStatusModal(r)})),s.change((()=>{r()}))})();

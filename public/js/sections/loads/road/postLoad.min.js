(()=>{const e=$("#load_type_id"),a=$("#trailer_type_id"),t=$("#mode_id"),o=$("#statesOrigin"),r=$("#citiesOrigin"),l=$("#stateDestination"),i=$("#cityDestination"),s=$("#shipper");$("#formRoadLoads").submit((s=>{s.preventDefault();const c=$(s.currentTarget),n=new FormData(c[0]);$.ajax({url:c.attr("action"),type:"POST",data:n,contentType:!1,processData:!1,success:s=>{s.success?(throwErrorMsg("Load Generated Successfully",{title:"Success!",type:"success"}),$("#postLoadModal").modal("hide"),o.html('<option value=""></option>'),r.html('<option value=""></option>'),l.html('<option value=""></option>'),i.html('<option value=""></option>'),e.html('<option value=""></option>'),a.html('<option value=""></option>'),t.html('<option value=""></option>'),$("#origin_early_pick_up_date").val(""),$("#origin_late_pick_up_date").val(""),$("#destination_early_pick_up_date").val(""),$("#destination_late_pick_up_date").val(""),$("#shipper_rate").val(""),$("#rate").val(""),$("#weight").val(""),$("#tons").val(""),$("#width").val(""),$("#height").val(""),$("#length").val(""),$("#pieces").val(""),$("#pallets").val(""),$("#mileage").val(""),$("#silo_number").val(""),$("#customer_po").val(""),$("#control_number").val(""),$("#pay_rate").val(""),$("#load_size").val(""),$("#days_to_pay").val(""),$("#notes").val("")):throwErrorMsg()},error:e=>{console.log(e);let a='<ul class="text-left">';Object.values(e.responseJSON.errors).forEach((e=>{a+=`<li>${e}</li>`})),a+="</ul>",throwErrorMsg(a,{timer:!1})}})})),e.select2({placeholder:"Select",ajax:{url:"/load/road/selectionLoadType",data:e=>({search:e.term,page:e.page||1,take:15})}}),a.select2({placeholder:"Select",ajax:{url:"/load/road/selectionTrailerType",data:e=>({search:e.term,page:e.page||1,take:15})}}),t.select2({placeholder:"Select",ajax:{url:"/load/road/selectionLoadMode",data:e=>({search:e.term,page:e.page||1,take:15})}}),o.select2({placeholder:"Select",ajax:{url:"/load/road/selectionStates",data:e=>({search:e.term,page:e.page||1,take:15})}}),r.select2({placeholder:"Select",ajax:{url:"/load/road/selectionCity/",data:e=>({search:e.term,page:e.page||1,take:15,statesOrigin:o.val()})}}),l.select2({placeholder:"Select",ajax:{url:"/load/road/selectionStates",data:e=>({search:e.term,page:e.page||1,take:15})}}),i.select2({placeholder:"Select",ajax:{url:"/load/road/selectionCity/",data:e=>({search:e.term,page:e.page||1,take:15,stateDestination:l.val()})}}),s.length>0&&s.select2({ajax:{url:"/shipper/selection",data:e=>({search:e.term,page:e.page||1,take:15})},placeholder:"Select",allowClear:!0}),$("#origin_early_pick_up_date").daterangepicker({singleDatePicker:!0,timePicker:!0,timePicker24Hour:!0,startDate:moment().startOf("hour"),endDate:moment().startOf("hour").add(32,"hour"),locale:{format:"YYYY/MM/DD hh:mm:ss"}},(function(e,a,t){})),$("#origin_late_pick_up_date").daterangepicker({singleDatePicker:!0,timePicker:!0,timePicker24Hour:!0,startDate:moment().startOf("hour"),endDate:moment().startOf("hour").add(32,"hour"),locale:{format:"YYYY/MM/DD hh:mm:ss"}},(function(e,a,t){})),$("#destination_early_pick_up_date").daterangepicker({singleDatePicker:!0,timePicker:!0,timePicker24Hour:!0,startDate:moment().startOf("hour"),endDate:moment().startOf("hour").add(32,"hour"),locale:{format:"YYYY/MM/DD hh:mm:ss"}},(function(e,a,t){})),$("#destination_late_pick_up_date").daterangepicker({singleDatePicker:!0,timePicker:!0,timePicker24Hour:!0,startDate:moment().startOf("hour"),endDate:moment().startOf("hour").add(32,"hour"),locale:{format:"YYYY/MM/DD hh:mm:ss"}},(function(e,a,t){})),o.change((function(){r.html('<option value=""></option>')})),l.change((function(){i.html('<option value=""></option>')}))})();

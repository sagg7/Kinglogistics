(()=>{const e=$("#date"),a=initPickadate(e).pickadate("picker"),l=$("#load_type_id"),t=$("#load_type_shipper"),r=$("#shipper_id"),i=$("#trip_id"),d=$("#origin"),o=$("[name=origin_coords]"),p=$("#destination"),s=$("[name=destination_coords]"),c=$("#mileage");if("undefined"==typeof readOnly){let g=r.val();l.select2({ajax:{url:"/loadType/selection",data:e=>({search:e.term,page:e.page||1,take:15,shipper:g})},placeholder:"Select",allowClear:!0}),i.select2({ajax:{url:"/trip/selection",data:e=>({search:e.term,page:e.page||1,take:15,shipper:g})},placeholder:"Select",allowClear:!0}).on("select2:select",(e=>{$.ajax({url:"/trip/getTrip",type:"GET",data:{id:e.params.data.id},success:e=>{d.val(e.origin),o.val(e.origin_coords).trigger("change"),p.val(e.destination),s.val(e.destination_coords).trigger("change"),c.val(e.mileage)},error:()=>{throwErrorMsg()}})})),r.length>0&&(r.select2({ajax:{url:"/shipper/selection",data:e=>({search:e.term,page:e.page||1,take:15})},placeholder:"Select",allowClear:!0}).on("select2:select",(e=>{g=e.params.data.id,t.val(g),l.prop("disabled",!1).trigger("change"),i.prop("disabled",!1).trigger("change")})).on("select2:unselect",(()=>{t.val(""),l.val("").prop("disabled",!0).trigger("change"),i.val("").prop("disabled",!0).trigger("change")})),l.val()||l.prop("disabled",!0).trigger("change")),a.set("select",e.val(),{format:"yyyy/mm/dd"}),$("#deleteLoadType").on("show.bs.modal",(e=>{let a=$("#load_type_id").html(),l=$("#delete_type");deleteHandler(l,a)})),r.val()||i.prop("disabled",!0).trigger("change")}})();

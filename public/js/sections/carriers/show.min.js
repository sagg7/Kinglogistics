let _gridTrailers,_gridDrivers;(()=>{let e=[],r=[];_gridTrailers=new simpleTableAG({id:"trailersTable",columns:[{headerName:"Name",field:"name"},{headerName:"Status",field:"status",valueFormatter:e=>e.value?e.value.charAt(0).toUpperCase()+e.value.slice(1):""},{headerName:"Cost",field:"cost",valueFormatter:e=>numeral(e.value).format("$0,0.00")}],gridOptions:{components:{tableRef:"window[gridName]"}},rowData:e}),_gridDrivers=new simpleTableAG({id:"driversTable",columns:[{headerName:"Name",field:"name"},{headerName:"Loads",field:"loads"}],gridOptions:{components:{tableRef:"window[gridName]"}},rowData:r});const a=$("#yearIncome"),t=$("#monthIncome"),i=$("#lastWeekIncome"),s=$("#weekIncome"),o=$("#lastWeekLoads"),d=$("#weekLoads"),n=$("#incidents"),l=$("#status");let m="/carrier/summaryData/";"undefined"!=typeof carrier_id&&(m+=carrier_id),$.ajax({url:m,success:m=>{a.text(m.incomeYear),t.text(m.incomePastMonth),i.text(m.incomePastWeek),s.text(m.incomeWeek),$.each($(".currency"),((e,r)=>{const a=$(r);a.text(numeral(a.text()).format("$0,0.00"))})),l.text(m.status),o.text(m.totalLoadsPastWeek),d.text(m.totalLoadsWeek),n.text(m.incidents),m.drivers.forEach((e=>{r.push({name:e.name,loads:e.loads_count})})),_gridDrivers.rowData=r,_gridDrivers.gridOptions.api.setRowData(r),_gridDrivers.grid.gridOptions.api.setPinnedBottomRowData(_gridDrivers.pinnedBottomFunction(_gridDrivers)),_gridDrivers.gridOptions.api.sizeColumnsToFit(),m.rentals.forEach((r=>{e.push({name:r.trailer.number,status:r.trailer.status,cost:r.cost})})),_gridTrailers.rowData=e,_gridTrailers.gridOptions.api.setRowData(e),_gridTrailers.grid.gridOptions.api.setPinnedBottomRowData(_gridTrailers.pinnedBottomFunction(_gridTrailers)),_gridTrailers.gridOptions.api.sizeColumnsToFit()}})})();
